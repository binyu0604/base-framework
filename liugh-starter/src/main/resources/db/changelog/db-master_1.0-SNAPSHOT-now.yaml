databaseChangeLog:
- changeSet:
    id: 1533664566170-1
    author: skywing (generated)
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              primaryKey: true
            name: id
            type: INT
        - column:
            constraints:
              nullable: false
            name: area_id
            type: VARCHAR(50)
        - column:
            constraints:
              nullable: false
            name: name
            type: VARCHAR(50)
        - column:
            constraints:
              nullable: false
            name: city_id
            type: VARCHAR(50)
        - column:
            name: lng_lat
            type: VARCHAR(100)
        tableName: sys_areas
- changeSet:
    id: 1533664566170-2
    author: skywing (generated)
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              primaryKey: true
            name: id
            type: INT
        - column:
            constraints:
              nullable: false
            name: city_id
            type: VARCHAR(50)
        - column:
            constraints:
              nullable: false
            name: name
            type: VARCHAR(50)
        - column:
            constraints:
              nullable: false
            name: province_id
            type: VARCHAR(50)
        tableName: sys_cities
- changeSet:
    id: 1533664566170-3
    author: skywing (generated)
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              primaryKey: true
            name: menu_id
            remarks: 主键
            type: INT
        - column:
            constraints:
              nullable: false
            name: parent_id
            remarks: 父菜单主键
            type: INT
        - column:
            constraints:
              nullable: false
            name: code
            remarks: 菜单编码
            type: VARCHAR(50)
        - column:
            constraints:
              nullable: false
            name: name
            remarks: 菜单名称
            type: VARCHAR(50)
        - column:
            constraints:
              nullable: false
            name: ismenu
            remarks: 是否是菜单，0:不是；1:是
            type: INT
        - column:
            name: num
            remarks: 菜单的序号
            type: INT
        - column:
            name: url
            remarks: 菜单地址
            type: VARCHAR(50)
        - column:
            name: describe
            remarks: 描述
            type: VARCHAR(255)
        tableName: sys_menu
- changeSet:
    id: 1533664566170-4
    author: skywing (generated)
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              primaryKey: true
            name: operation_log_id
            remarks: 主键
            type: INT
        - column:
            name: log_description
            remarks: 日志类型
            type: VARCHAR(64)
        - column:
            name: action_args
            remarks: 日志名称
            type: VARCHAR(255)
        - column:
            name: user_name
            remarks: 用户id
            type: VARCHAR(50)
        - column:
            name: class_name
            remarks: 类名称
            type: VARCHAR(64)
        - column:
            name: method
            remarks: 方法名称
            type: VARCHAR(64)
        - column:
            name: ip
            type: VARCHAR(32)
        - column:
            name: create_time
            remarks: 创建时间
            type: BIGINT
        - column:
            name: succeed
            remarks: 是否成功
            type: VARCHAR(64)
        - column:
            name: message
            remarks: 备注
            type: TEXT
        tableName: sys_operation_log
- changeSet:
    id: 1533664566170-5
    author: skywing (generated)
    changes:
    - createTable:
        columns:
        - column:
            constraints:
              primaryKey: true
            name: id
            type: INT
        - column:
            constraints:
              nullable: false
            name: province_id
            type: VARCHAR(50)
        - column:
            constraints:
              nullable: false
            name: name
            type: VARCHAR(50)
        tableName: sys_provinces
- changeSet:
    id: 1533664566170-6
    author: skywing (generated)
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              primaryKey: true
            name: role_id
            remarks: 角色主键
            type: INT
        - column:
            constraints:
              nullable: false
            name: role_name
            remarks: 角色名称
            type: VARCHAR(50)
        - column:
            name: describe
            remarks: 角色描述
            type: VARCHAR(255)
        tableName: sys_role
- changeSet:
    id: 1533664566170-7
    author: skywing (generated)
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              primaryKey: true
            name: role_to_menu_id
            remarks: 角色与菜单对应主键
            type: INT
        - column:
            constraints:
              nullable: false
            name: role_id
            remarks: 角色主键
            type: INT
        - column:
            constraints:
              nullable: false
            name: menu_id
            remarks: 菜单主键
            type: INT
        - column:
            defaultValueNumeric: 1
            name: status
            remarks: 状态(0:禁用;1:启用）
            type: INT
        tableName: sys_role_to_menu
- changeSet:
    id: 1533664566170-8
    author: skywing (generated)
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              primaryKey: true
            name: user_id
            remarks: 用户主键
            type: INT
        - column:
            constraints:
              nullable: false
            name: user_name
            remarks: 用户名称
            type: VARCHAR(50)
        - column:
            name: sex
            remarks: 性别（1：男 2：女）
            type: INT
        - column:
            name: birthday
            remarks: 生日
            type: BIGINT
        - column:
            name: email
            remarks: 电子邮件
            type: VARCHAR(45)
        - column:
            constraints:
              nullable: false
            name: pass_word
            remarks: 用户密码
            type: VARCHAR(255)
        - column:
            name: telephone
            remarks: 电话号
            type: VARCHAR(11)
        - column:
            name: unit
            remarks: 单位
            type: VARCHAR(50)
        - column:
            name: create_time
            remarks: 创建时间
            type: BIGINT
        - column:
            name: province_id
            remarks: 省主键
            type: VARCHAR(50)
        - column:
            name: city_id
            remarks: 市主键
            type: VARCHAR(50)
        - column:
            name: area_id
            remarks: 县主键
            type: VARCHAR(50)
        - column:
            name: real_name
            remarks: 真实姓名
            type: VARCHAR(50)
        - column:
            name: head_image
            remarks: 头像
            type: VARCHAR(200)
        - column:
            defaultValueNumeric: 1
            name: status
            remarks: 状态(1:启用  2:冻结  3:删除）
            type: INT
        tableName: sys_user
- changeSet:
    id: 1533664566170-9
    author: skywing (generated)
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              primaryKey: true
            name: user_to_role_id
            remarks: 用户与角色对应主键
            type: INT
        - column:
            constraints:
              nullable: false
            name: user_id
            remarks: 用户主键
            type: INT
        - column:
            constraints:
              nullable: false
            name: role_id
            remarks: 角色主键
            type: INT
        tableName: sys_user_to_role
- changeSet:
    id: 1533664566170-10
    author: skywing (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: area_id
        indexName: area_id
        tableName: sys_areas
- changeSet:
    id: 1533664566170-11
    author: skywing (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: city_id
        indexName: city_id
        tableName: sys_cities
- changeSet:
    id: 1533664566170-12
    author: skywing (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: menu_id
        indexName: fk_menu_role
        tableName: sys_role_to_menu
- changeSet:
    id: 1533664566170-13
    author: skywing (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: role_id
        indexName: fk_role_menu
        tableName: sys_role_to_menu
- changeSet:
    id: 1533664566170-14
    author: skywing (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: role_id
        indexName: fk_role_user
        tableName: sys_user_to_role
- changeSet:
    id: 1533664566170-15
    author: skywing (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: area_id
        indexName: fk_user_area
        tableName: sys_user
- changeSet:
    id: 1533664566170-16
    author: skywing (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: city_id
        indexName: fk_user_cities
        tableName: sys_user
- changeSet:
    id: 1533664566170-17
    author: skywing (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: province_id
        indexName: fk_user_provinces
        tableName: sys_user
- changeSet:
    id: 1533664566170-18
    author: skywing (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: user_id
        indexName: fk_user_role
        tableName: sys_user_to_role
- changeSet:
    id: 1533664566170-19
    author: skywing (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: id
        - column:
            name: province_id
        indexName: id
        tableName: sys_provinces
- changeSet:
    id: 1533664566170-20
    author: skywing (generated)
    changes:
    - createIndex:
        columns:
        - column:
            name: province_id
        indexName: province_id
        tableName: sys_provinces
- changeSet:
    id: 1533664566170-21
    author: skywing (generated)
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: menu_id
        baseTableName: sys_role_to_menu
        constraintName: fk_permission_role
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: menu_id
        referencedTableName: sys_menu
        validate: true
- changeSet:
    id: 1533664566170-22
    author: skywing (generated)
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: role_id
        baseTableName: sys_role_to_menu
        constraintName: fk_role_permission
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: role_id
        referencedTableName: sys_role
        validate: true
- changeSet:
    id: 1533664566170-23
    author: skywing (generated)
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: role_id
        baseTableName: sys_user_to_role
        constraintName: fk_role_user
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: role_id
        referencedTableName: sys_role
        validate: true
- changeSet:
    id: 1533664566170-24
    author: skywing (generated)
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: area_id
        baseTableName: sys_user
        constraintName: fk_user_area
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: area_id
        referencedTableName: sys_areas
        validate: true
- changeSet:
    id: 1533664566170-25
    author: skywing (generated)
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: city_id
        baseTableName: sys_user
        constraintName: fk_user_cities
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: city_id
        referencedTableName: sys_cities
        validate: true
- changeSet:
    id: 1533664566170-26
    author: skywing (generated)
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: province_id
        baseTableName: sys_user
        constraintName: fk_user_provinces
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: province_id
        referencedTableName: sys_provinces
        validate: true
- changeSet:
    id: 1533664566170-27
    author: skywing (generated)
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: user_id
        baseTableName: sys_user_to_role
        constraintName: fk_user_role
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: user_id
        referencedTableName: sys_user
        validate: true

